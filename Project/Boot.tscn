[gd_scene load_steps=6 format=3 uid="uid://it0x18qe03km"]

[ext_resource type="Script" path="res://Scripts/BootController.cs" id="1_frm1i"]
[ext_resource type="PackedScene" uid="uid://gcow2uo4uiia" path="res://Prefabs/NetworkClient.tscn" id="2_doepm"]
[ext_resource type="Script" path="res://JoinMenu.gd" id="2_gqm1w"]
[ext_resource type="Script" path="res://TurfClickHandler.cs" id="3_jstcs"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_dtkm3"]

[node name="Main" type="Node" node_paths=PackedStringArray("entity_container", "client_container", "client_spawner", "entity_spawner", "chunk_spawner", "ip_entry", "port_entry", "pass_entry", "account_entry", "accpass_entry", "join_menu")]
script = ExtResource("1_frm1i")
entity_container = NodePath("Entities")
client_container = NodePath("Clients")
client_prefab = ExtResource("2_doepm")
client_spawner = NodePath("ClientSpawner")
entity_spawner = NodePath("EntitySpawner")
chunk_spawner = NodePath("ChunkSpawner")
ip_entry = NodePath("JoinMenu/IPEntry")
port_entry = NodePath("JoinMenu/PortEntry")
pass_entry = NodePath("JoinMenu/PasswordEntry")
account_entry = NodePath("JoinMenu/AccountEntry")
accpass_entry = NodePath("JoinMenu/AccountPass")
join_menu = NodePath("JoinMenu")

[node name="Entities" type="Node" parent="."]

[node name="Clients" type="Node" parent="."]

[node name="JoinMenu" type="CanvasLayer" parent="." node_paths=PackedStringArray("controller")]
script = ExtResource("2_gqm1w")
controller = NodePath("..")

[node name="Client" type="Button" parent="JoinMenu"]
offset_left = 5.0
offset_top = 5.0
offset_right = 180.0
offset_bottom = 47.0
text = "CLIENT"

[node name="Server" type="Button" parent="JoinMenu"]
offset_left = 5.0
offset_top = 52.0
offset_right = 179.0
offset_bottom = 95.0
text = "SERVER"

[node name="Editor" type="Button" parent="JoinMenu"]
offset_left = 5.0
offset_top = 100.0
offset_right = 179.0
offset_bottom = 143.0
text = "EDIT SERVER
"

[node name="IPEntry" type="TextEdit" parent="JoinMenu"]
offset_left = 193.0
offset_top = 12.0
offset_right = 424.0
offset_bottom = 47.0
auto_translate = false
localize_numeral_system = false
text = "127.0.0.1"
placeholder_text = "IP Address"
scroll_fit_content_height = true

[node name="PortEntry" type="TextEdit" parent="JoinMenu"]
offset_left = 434.0
offset_top = 12.0
offset_right = 665.0
offset_bottom = 47.0
auto_translate = false
localize_numeral_system = false
text = "2279"
placeholder_text = "Port"
scroll_fit_content_height = true

[node name="PasswordEntry" type="TextEdit" parent="JoinMenu"]
offset_left = 674.0
offset_top = 13.0
offset_right = 958.0
offset_bottom = 48.0
auto_translate = false
localize_numeral_system = false
placeholder_text = "Server Password"
scroll_fit_content_height = true

[node name="AccountEntry" type="TextEdit" parent="JoinMenu"]
offset_left = 193.0
offset_top = 60.0
offset_right = 666.0
offset_bottom = 95.0
auto_translate = false
localize_numeral_system = false
text = "Tester"
placeholder_text = "Account Name"
scroll_fit_content_height = true

[node name="AccountPass" type="TextEdit" parent="JoinMenu"]
offset_left = 193.0
offset_top = 103.0
offset_right = 666.0
offset_bottom = 138.0
auto_translate = false
localize_numeral_system = false
placeholder_text = "Account Password"
scroll_fit_content_height = true

[node name="ClientSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://Prefabs/NetworkClient.tscn")
spawn_path = NodePath("../Clients")
spawn_limit = 64

[node name="EntitySpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://Prefabs/NetworkEffect.tscn", "res://Prefabs/NetworkItem.tscn", "res://Prefabs/NetworkMachine.tscn", "res://Prefabs/NetworkMob.tscn", "res://Prefabs/NetworkStructure.tscn")
spawn_path = NodePath("../Entities")
spawn_limit = 65535

[node name="ChunkSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://Prefabs/NetworkChunk.tscn")
spawn_path = NodePath("../Entities")
spawn_limit = 4096

[node name="ServerCamera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 10, 0)

[node name="TurfClickHandler" type="Node3D" parent="."]
script = ExtResource("3_jstcs")

[node name="TurfStaticBody" type="StaticBody3D" parent="TurfClickHandler"]

[node name="TurfPlane" type="CollisionShape3D" parent="TurfClickHandler/TurfStaticBody"]
shape = SubResource("WorldBoundaryShape3D_dtkm3")

[connection signal="pressed" from="JoinMenu/Client" to="JoinMenu" method="_on_client_pressed"]
[connection signal="pressed" from="JoinMenu/Server" to="JoinMenu" method="_on_server_pressed"]
[connection signal="pressed" from="JoinMenu/Editor" to="JoinMenu" method="_on_editor_pressed"]
[connection signal="input_event" from="TurfClickHandler/TurfStaticBody" to="TurfClickHandler/TurfStaticBody" method="_on_input_event"]
